{"version":3,"file":"solanaProvider.esm.js","sources":["../src/rpc/solanaRpcMiddlewares.ts","../src/providers/injectedProviders/injectedProviderProxy.ts","../src/providers/injectedProviders/phantom/providerHandlers.ts","../src/providers/injectedProviders/phantom/phantomInjectedProvider.ts","../src/providers/injectedProviders/torus/providerHandlers.ts","../src/providers/injectedProviders/torus/torusInjectedProvider.ts","../src/rpc/JrpcClient.ts","../src/providers/privateKeyProvider/solanaPrivateKeyUtils.ts","../src/providers/privateKeyProvider/solanaPrivateKeyProvider.ts","../src/solanaWallet.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null],"names":["createGetAccountsMiddleware","getAccounts","createAsyncMiddleware","request","response","next","method","Error","accounts","result","undefined","createRequestAccountsMiddleware","requestAccounts","createGenericJRPCMiddleware","targetMethod","handler","createSolanaMiddleware","providerHandlers","signTransaction","signAndSendTransaction","signAllTransactions","signMessage","getPrivateKey","mergeMiddleware","createChainSwitchMiddleware","addNewChainConfig","switchSolanaChain","createAccountMiddleware","updatePrivatekey","createInjectedProviderProxyMiddleware","provider","req","res","_next","_objectSpread","getPhantomHandlers","injectedProvider","publicKey","bs58","encode","toBytes","ethErrors","rpc","methodNotSupported","message","decode","params","txn","Transaction","from","transaction","txRes","signature","length","invalidParams","txns","map","msg","decodedMsg","PhantomInjectedProvider","BaseProvider","constructor","config","state","chainConfig","chainNamespace","CHAIN_NAMESPACES","SOLANA","switchChain","_","Promise","resolve","setupProvider","solanaMiddleware","injectedProviderProxy","engine","JRPCEngine","push","providerFromEngine","updateProviderEngineProxy","lookupNetwork","update","chainId","getTorusHandlers","data","toString","buf","Buffer","sendTx","messages","TorusInjectedProvider","handleInjectedProviderUpdate","setupEngine","custom","code","connectedChainId","connectedHexChainId","isHexStrict","parseInt","WalletInitializationError","rpcConnectionError","emit","on","configure","createChainIdMiddleware","end","createProviderConfigMiddleware","providerConfig","createJsonRpcClient","rpcTarget","fetchMiddleware","createFetchMiddleware","networkMiddleware","getProviderHandlers","privKey","getProviderEngineProxy","transactionGenerator","serializedTx","decodedTx","tx","keyPairGenerator","Keypair","fromSecretKey","keyPair","toBase58","partialSign","signedMsg","nacl","sign","detached","secretKey","_providerEngineProxy","sig","serialize","signedTransactions","SolanaPrivateKeyProvider","enable","privateKey","bind","getChainSwitchMiddleware","getAccountMiddleware","updateAccount","existingKey","getChainConfig","health","chainSwitchHandlers","chainName","rpcUrls","blockExplorerUrls","nativeCurrency","addChain","ticker","symbol","tickerName","name","displayName","blockExplorer","chainSwitchMiddleware","accountHandlers","providerFactory","SolanaWallet","requireAllSignatures","signedTransaction","transactions","args"],"mappings":"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"}