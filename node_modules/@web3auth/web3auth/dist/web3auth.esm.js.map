{"version":3,"file":"web3auth.esm.js","sources":["../src/config.ts","../src/default.ts","../src/utils.ts","../src/modalManager.ts"],"sourcesContent":[null,null,null,null],"names":["defaultSolanaDappModalConfig","chainNamespace","CHAIN_NAMESPACES","SOLANA","adapters","SOLANA_ADAPTERS","TORUS_SOLANA","label","showOnModal","showOnMobile","showOnDesktop","OPENLOGIN","PHANTOM","defaultEvmDappModalConfig","EIP155","EVM_ADAPTERS","TORUS_EVM","METAMASK","WALLET_CONNECT_V1","defaultSolanaWalletModalConfig","defaultEvmWalletModalConfig","OPENLOGIN_PROVIDERS","LOGIN_PROVIDER","GOOGLE","FACEBOOK","TWITTER","REDDIT","DISCORD","TWITCH","APPLE","LINE","GITHUB","KAKAO","LINKEDIN","WEIBO","WECHAT","EMAIL_PASSWORDLESS","getDefaultAdapterModule","params","name","customChainConfig","clientId","Object","values","includes","Error","finalChainConfig","getChainConfig","chainId","WALLET_ADAPTERS","TorusWalletAdapter","adapter","chainConfig","SolanaWalletAdapter","MetamaskAdapter","PhantomAdapter","WalletConnectV1Adapter","OpenloginAdapter","getOpenloginDefaultOptions","defaultOptions","adapterSettings","_objectSpread","getAdapterSocialLogins","adapterName","loginMethodsConfig","finalLoginMethodsConfig","forEach","loginMethod","currentLoginMethodConfig","log","debug","Web3Auth","Web3AuthCore","constructor","options","providedChainConfig","authMode","modalConfig","loginModal","LoginModal","theme","uiConfig","appLogo","version","adapterListener","subscribeToLoginModalEvents","initModal","checkInitRequirements","allAdapters","Set","keys","walletAdapters","adapterConfigurationPromises","map","adapterConfig","ad","type","ADAPTER_CATEGORY","IN_APP","EXTERNAL","cachedAdapter","setAdapterSettings","chainConfigProxy","coreOptions","setChainConfig","adapterNames","Promise","all","hasInAppWallets","some","loginMethods","method","initPromises","subscribeToAdapterEvents","status","ADAPTER_STATUS","NOT_READY","init","autoConnect","initializeInAppWallet","error","READY","hasExternalWallets","initExternalWalletContainer","initExternalWalletAdapters","showExternalWalletsOnly","connect","provider","open","resolve","reject","once","ADAPTER_EVENTS","CONNECTED","ERRORED","err","externalWalletsInitialized","adaptersConfig","adaptersData","adapterPromises","adapterData","adapterInitResults","finalAdaptersConfig","result","addWalletLogins","info","addSocialLogins","loginMethodsOrder","on","LOGIN_MODAL_EVENTS","LOGIN","connectTo","loginParams","INIT_EXTERNAL_WALLETS","DISCONNECT","logout","MODAL_VISIBILITY","visibility","emit","walletConnectStatus"],"mappings":"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"}